"use strict";var closeBtn=document.querySelector(".close"),modal=$(".modal"),modalContent=$(".modal__content"),content=modalContent.find(".modal__text"),body=$("body"),validateFields=function(e,a){return a.forEach(function(e){e.removeClass("input-error"),""===e.val().trim()&&e.addClass("input-error")}),0==e.find(".input-error").length};$(".form").submit(function(e){e.preventDefault();var a=$(e.currentTarget),t=a.find("[name='name']"),o=a.find("[name='phone']"),n=a.find("[name='comment']"),e=a.find("[name='to']");validateFields(a,[t,o,n,e])&&$.ajax({url:"https://webdev-api.loftschool.com/sendmail",method:"POST",data:{name:t.val(),phone:o.val(),comment:n.val(),to:e.val()},success:function(e){content.text(e.message),$(modal).addClass("overlay__active"),$(modalContent).addClass("modal__active"),$(body).addClass("body-active-menu")},error:function(e){content.text(e.responseJSON.message),$(modal).addClass("overlay__active"),$(modalContent).addClass("modal__active"),$(body).addClass("body-active-menu")}})}),$(closeBtn).click(function(e){e.preventDefault(),$(modal).removeClass("overlay__active"),$(modalContent).removeClass("modal__active"),$(body).removeClass("body-active-menu")});